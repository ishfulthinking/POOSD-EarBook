<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Welcome to Earbook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lato:700|Source+Sans+Pro:600" rel="stylesheet">
</head>
<script>
    let text ="";

    function openSongSearch() {
        let backgroundBlocker = document.getElementById("backgroundblocker");
        let searchBox = document.getElementById("searchbox");
        backgroundBlocker.style.transition = "opacity 0.5s";
        searchBox.style.transition = "opacity 0.5s";
        backgroundBlocker.style.display = "block";
        searchBox.style.display = "block";
        backgroundBlocker.style.opacity = 0.3;
        searchBox.style.opacity = 1;
    }

    function hideSongSearch() {
        let backgroundBlocker = document.getElementById("backgroundblocker");
        let searchBox = document.getElementById("searchbox");
        backgroundBlocker.style.transition = "opacity 0.5s";
        searchBox.style.transition = "opacity 0.5s";
        backgroundBlocker.style.opacity = 0;
        searchBox.style.opacity = 0;
        backgroundBlocker.style.display = "none";
        searchBox.style.display = "none";
    }

    function searchSong() {
        let listBox = document.getElementById("listbox");
        let searchBox = document.getElementById("searchbox");
        listBox.style.transition = "opacity 0.5s";
        searchBox.style.transition = "opacity 0.5s";
        listBox.style.opacity = 1;
        searchBox.style.opacity = 0;
        listBox.style.display = "inline";
        searchBox.style.display = "none";
    }

    function selectSong() {
        let listBox = document.getElementById("listbox");
        listBox.style.transition = "opacity 0.5s";
        listBox.style.opacity = 0;
        listBox.style.display = "none";
        text = $("input[name='pickedsong']:checked").val();
        if(text)
            document.getElementById("selectedsong").innerHTML = text;
        hideSongSearch();
    }

    /*function populateSong() {
        let listBox = document.getElementById("listbox");
        listBox.style.transition = "opacity 0.5s";
        listBox.style.opacity = 0;
        listBox.style.display = "none";
        hideSongSearch();
    }*/

    function validatePost() {
        if (text == null || text.length == 0) {
            alert("You must select a song.");
            return false;
        }
        else
            return true;
    }

    function doPost() {
        // do stuff
    }

    function addFriend() {
        let regTriangle = document.getElementById("regTriangle");
        regTriangle.style.transition = "opacity 0.2s";

        if (regBox.style.opacity == 0) {
            regBox.style.opacity = 1;
        }
        else {
            regBox.style.opacity = 0;
        }
    }

    function confirmFriend() {
        let signup = document.getElementById("signup");
        signup.style.transition = "background-color 0.2s";
        signup.style.backgroundColor = "green";

        setTimeout(openRegistration, 500);
        signup.style.backgroundColor = "dodgerblue";
    }

</script>
<body>
    <div class="container-fluid">
		<nav class="navbar navbar-expand-lg navbar-dark">
			<a class="navbar-brand" href="home.html">
                earbook
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <a href="home.html">Home</a>
                </ul>
            </div>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <p onclick="addFriend()" style="color: #F2A03A;">Add Friend</p>
                    <form action="../php/addFriend.php" method="post">
                        <div id="regTriangle"></div>
                        <div id="regBox">
                            <p>Add Friends</p>
                            <input type="text" name="username" placeholder="Friend Email"/><br>
                            <input type="submit" id="addFriend" value="Sign Up" onclick="confirmFriend()"/><br>
                        </div>
                    </form>
                </ul>
            </div>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <a href="logout">Log Out</a>
                </ul>
            </div>
        </nav>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="userinfo">
                    <div class="usericon">
                        <img src="media/icon.png" alt="Yeh das me">
                    </div>
                    <div class="name">Ishi Minaj</div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="posteditor">
                    <div class="icon">
                        <img src="media/icon.png" alt="It's you!">
                    </div>
                    <form name="editor" method="post">
                        <div class="editorstuff">
                            <textarea placeholder="What's stuck in your head?"></textarea>
                            <div id="selectedsong" style="font-style: italic;"></div>
                            <button type="button" onclick="validatePost()">Post</button>
                            <button type="button" onclick="openSongSearch()" style="background-color: #23D660; margin-right: 2em;">Search</button>
                        </div>
                    </form>
                </div>
                <div class="post">
                    <div class="icon">
                        <img src="media/pikachu.png" alt="It's them!">
                    </div>
                    <div class="name">Melody Clefson</div>
                    <div class="music">
                        <div class="albumart">
                            <img src="media/okcomputer.jpg" alt="Best of album of all time? Perhaps">
                        </div>
                        <div class="songinfo">
                            <div class="song">Airbag</div>
                            <div class="album">OK Computer</div>
                            <div class="artist">Radiohead</div>
                        </div>
                    </div>
                    <div class="text">
                        Hey everyone, I just listened to OK Computer
                        for the first time. I had no idea how amazing the album is!
                        Try giving it a listen -- it'll be worth your time.
                    </div>
                </div>
            </div>
        </div>

        <div id="backgroundblocker" onclick="hideSongSearch()"></div>
        <div id="searchbox">
            <p style="padding-left: 36%;">Search a song!</p>
            <input type="text" name="songtitle" placeholder="Song Title"/><br>
            <input type="text" name="albumtitle" placeholder="Album Title"/><br>
            <input type="text" name="artistname" placeholder="Artist Name"/><br>
            <input type="button" id="search" value="Search" onclick="searchSong()"/><br>
        </div>
        <div id="listbox">
            <input type="radio" name="pickedsong" value="Paranoid Android by Radiohead"/>Paranoid Android by Radiohead<br>
            <input type="radio" name="pickedsong" value="I Think I'm Paranoid by Garbage"/>I Think I'm Paranoid by Garbage<br>
            <input type="radio" name="pickedsong" value="Love/Paranoia by Tame Impala"/>Love/Paranoia by Tame Impala<br>
            <input type="button" id="select" value="Select" onclick="selectSong()"/><br>
        </div>
    </div>

    
</body>
<style>
    body {
        font-family: 'Lato', sans-serif !important;
        font-size: 1em;
        color: black;
        height: 100%;
        width: 100%;
        margin: 0;
        background-image: linear-gradient(to bottom right, #F2A03A, #7B0855);
        background-repeat: no-repeat;
        background-attachment: fixed;
    }
    a {
        color: #F2A03A;
    }

    #regBox {
        width: 324px;
        height: 160px;
        position: fixed;
        background-color: white;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        margin: auto;
        opacity: 0;
        top: 62px;
        z-index: 9;
        padding: 1em;
    }

    .userinfo {
        min-height: 128px;
        width: 100%;
        background-color: white;
        padding: 1em;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        margin-top: 45%;
        margin-bottom: 3em;
        overflow: hidden;
        position: static;
    }
    .userinfo .name {
        padding-left: 50%;
    }
    .usericon {
        position: absolute;
        float: left;
        z-index: 5;
        width: 160px;
        top: 80px;
        left: 48px;
    }
    .usericon img {
        height: 128px;
        width: 128px;
        border-radius: 50%;
        border: 4px solid white;
        box-shadow: 0px 4px 12px rgba(17,17,17,0.2);
    }

    .posteditor {
        min-height: 100px;
        width: 100%;
        background-color: white;
        padding: 1em;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        margin-top: 4em;
        margin-bottom: 3em;
        overflow: hidden;
    }
    .icon {
        position: relative;
        float: left;
        z-index: 5;
        width: 80px;
    }
    .icon img {
        height: 64px;
        width: 64px;
        border-radius: 50%;
        border: 3px solid white;
        box-shadow: 0px 4px 12px rgba(17,17,17,0.2);
    }
    #selectedsong {
        float: left;
        padding: 1em;
    }

    form {
        float: left;
        width: 87%;
    }
    form textarea {
        float: left;
        width: 100%;
    }
    form button {
        width: 5em;
        position: relative;
        float: right;
        margin-top: 1em;
        background-color: #981652;
        border: none;
        border-radius: 1em;
        padding: 0.5em 0.25em;
        color: white;
        box-shadow: 0px 4px 4px rgba(40,40,40,0.3);
    }

    .post {
        min-height: 100px;
        width: 100%;
        background-color: white;
        padding: 1em;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        margin-bottom: 2em;
        overflow: hidden;
    }
    .name {
        font-size: 1.2em;
        text-decoration: bold;
        margin-bottom: 1em;
    }
    .text {
        font-size: 1em;
        text-decoration: none;
        width: 100%;
        margin-top: 2em;
    }
    
    .music {
        float: left;
        width: 100%;
        margin: 2em;
    }
    .songinfo {
        color: #333;
        font-style: italic;
        float: left;
        margin-left: 1em;
        font-size: 1.2em;
    }
    .songinfo div {
        padding-left: 0.5em;
        margin-bottom: 1em;
        background-color: lightyellow;
        width: 100%;
        float: left;
    }
    .albumart {
        margin-left: 8%;
        float: left;
    }
    .albumart img {
        border: 1px solid #333;
        border-radius: 2px;
    }

    .container {
        padding: 0px;
    }
    .navbar {
        background-image: linear-gradient(#981652, #7B0855);
        width: 100%;
        padding-left: 3em;
        padding-right: 3em;
        border-bottom: 1px #750857;
    }
    .navbar ul {
        float: right;
    }
    .navbar-brand {
        font-size: 2.7em;
        padding-left: 18%;
        margin-right: -32px;
    }
    input, textarea {
        font: 1.2em;
        width: 94%;
        box-sizing: border-box;
        border: 1px solid #999;
        padding: 0.5em;
        margin: 0 1em;
        border-radius: 0.1em;
    }
    input:focus, textarea:focus {
        border-color: #000;
    }
    button {
        background-color: #981652;
        border: none;
        border-radius: 1em;
        padding: 0.5em 0.75em;
        color: white;
        box-shadow: 0px 4px 4px rgba(40,40,40,0.3);
    }
    button:hover { background-color: #821055 }
    button:active {
        transform: translateY(3px);
        box-shadow: 0px 1px 1px rgba(40,40,40,0.3);
    }

    #backgroundblocker {
        z-index: 6;
        width: 100%;
        height: 100%;
        background-color: black;
        position: fixed;
        top: 0px;
        left: 0px;
        opacity: 0.5;
        display: none;
    }
    #searchbox {
        z-index: 7;
        width: 420px;
        height: 240px;
        background-color: white;
        padding: 1em;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        position: fixed;
        top: 40%;
        left: 35%;
        display: none;
    }
    #searchbox input {
        width: 100%;
        float: left;
        padding: 0.5em;
        margin: 0px;
    }

    #listbox {
        z-index: 7;
        width: 420px;
        height: 240px;
        background-color: white;
        padding: 1em;
        border-radius: 2px;
        box-shadow: 0px 8px 8px rgba(17,17,17,0.1);
        position: fixed;
        top: 40%;
        left: 35%;
        display: none;
        text-align: left;
        overflow: scroll;
    }
    #listbox input {
        float: left;
        text-align: left;
    }

</style>
</html>